{"version":3,"names":[],"mappings":"","sources":["field-length-alert.min.js"],"sourcesContent":["!function(){\"use strict\";function e(e){return\"INPUT\"===e.tagName&&a.indexOf(e.type)>-1}\"object\"!=typeof window.Camwyn&&(window.Camwyn={});var t=0,r=[],n=function(e,t,r){for(var n=0,a=e.length;n<a;n++)t.call(r,n,e[n])},a=[\"text\",\"textarea\"];window.Camwyn.fieldLengthAlert=function(a,i){function o(e,t,r){var n=r.warn_threshold||55,a=r.error_threshold||65,i=r.direction||\"down\",o=isNaN(parseInt(e.value.length))?0:parseInt(e.value.length),s=t.querySelector(\".field-length-alert\"),l=t.querySelector(\".field-length-alert-count\");\"up\"!==i&&(o=a-o),l.textContent=o.toString(),s.classList.remove(\"-warn\"),s.classList.remove(\"-error\"),\"up\"!==i?o<=0?(s.classList.remove(\"-warn\"),s.classList.add(\"-error\")):o<=a-n&&(s.classList.add(\"-warn\"),s.classList.remove(\"-error\")):o>=a?(s.classList.remove(\"-warn\"),s.classList.add(\"-error\")):o>=n&&(s.classList.add(\"-warn\"),s.classList.remove(\"-error\"))}if(void 0!==a){if(\"string\"==typeof a){a={target:a}}else if(void 0===a.target)return;\"string\"==typeof a.target?r=document.querySelectorAll(a.target):Array.isArray(a.target)&&n(a.target,function(e,t){var n=document.querySelectorAll(t);Array.prototype.push.apply(r,n)}),r&&(t++,n(r,function(r,n){var i=n,s=document.createElement(\"span\"),l=document.createElement(\"span\"),d=document.createElement(\"span\");if(e(i)){l.classList.add(\"field-length-alert\"),d.classList.add(\"field-length-alert-count\"),l.appendChild(d),r++,s.setAttribute(\"id\",\"wrap\"+t+\"-\"+r),s.classList.add(\"alert-wrap\");var c=window.getComputedStyle(i,null);s.style.maxWidth=c.getPropertyValue(\"width\"),l.style.fontSize=c.fontSize,i.parentNode.insertBefore(s,i),s.appendChild(i),s.appendChild(l),window.onresize=function(){s.style.maxWidth=\"100%\",s.style.maxWidth=c.getPropertyValue(\"width\")},i.addEventListener(\"focus\",function(){i.addEventListener(\"keyup\",function(){o(i,s,a)},!0)},!0),i.addEventListener(\"blur\",function(){i.removeEventListener(\"keyup\",o)},!0),o(i,s,a)}}),\"function\"==typeof i&&i.call())}}}();"],"file":"field-length-alert.min.js"}